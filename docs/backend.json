
{
  "entities": {
    "UserProfile": {
      "title": "UserProfile",
      "type": "object",
      "description": "Perfil de usuario en el sistema.",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string" },
        "email": { "type": "string", "format": "email" },
        "role": { "type": "string", "enum": ["student", "teacher", "admin"] },
        "username": { "type": "string" },
        "phone": { "type": "string" },
        "instruments": { "type": "array", "items": { "type": "string" } },
        "avatarSeed": { "type": "string" },
        "photoUrl": { "type": "string" }
      },
      "required": ["id", "name", "email", "role"]
    },
    "DayAvailability": {
      "title": "DayAvailability",
      "type": "object",
      "description": "Disponibilidad y reservas de un profesor por día.",
      "properties": {
        "teacherId": { "type": "string" },
        "date": { "type": "string" },
        "slots": { "type": "array", "items": { "type": "object" } }
      }
    },
    "ResourceCompletion": {
      "title": "ResourceCompletion",
      "type": "object",
      "description": "Registro de materiales completados por alumnos.",
      "properties": {
        "resourceId": { "type": "number" },
        "studentId": { "type": "string" },
        "isCompleted": { "type": "boolean" },
        "validatedBy": { "type": "string" },
        "date": { "type": "string" }
      }
    },
    "UserMilestone": {
      "title": "UserMilestone",
      "type": "object",
      "description": "Hitos de carrera asignados a alumnos.",
      "properties": {
        "id": { "type": "string" },
        "studentId": { "type": "string" },
        "milestoneTitle": { "type": "string" },
        "achieved": { "type": "boolean" },
        "date": { "type": "string" }
      }
    },
    "StudentSkill": {
      "title": "StudentSkill",
      "type": "object",
      "description": "Nivel de habilidad técnica de un alumno.",
      "properties": {
        "studentId": { "type": "string" },
        "instrument": { "type": "string" },
        "skillName": { "type": "string" },
        "level": { "type": "number" }
      }
    },
    "AppSetting": {
      "title": "AppSetting",
      "type": "object",
      "properties": {
        "appLogoUrl": { "type": "string" },
        "darkMode": { "type": "boolean" },
        "whatsappNumber": { "type": "string" }
      }
    }
  },
  "auth": {
    "providers": ["password", "google.com"]
  },
  "firestore": {
    "structure": [
      {
        "path": "/users/{userId}",
        "definition": {
          "entityName": "UserProfile",
          "schema": { "$ref": "#/backend/entities/UserProfile" },
          "description": "Perfiles de alumnos, profesores y admins."
        }
      },
      {
        "path": "/availabilities/{availId}",
        "definition": {
          "entityName": "DayAvailability",
          "schema": { "$ref": "#/backend/entities/DayAvailability" },
          "description": "Agenda de clases y disponibilidad docente."
        }
      },
      {
        "path": "/completions/{compId}",
        "definition": {
          "entityName": "ResourceCompletion",
          "schema": { "$ref": "#/backend/entities/ResourceCompletion" },
          "description": "Validación de materiales estudiados."
        }
      },
      {
        "path": "/milestones/{mileId}",
        "definition": {
          "entityName": "UserMilestone",
          "schema": { "$ref": "#/backend/entities/UserMilestone" },
          "description": "Logros históricos de los alumnos."
        }
      },
      {
        "path": "/skills/{skillId}",
        "definition": {
          "entityName": "StudentSkill",
          "schema": { "$ref": "#/backend/entities/StudentSkill" },
          "description": "Progreso técnico detallado por instrumento."
        }
      },
      {
        "path": "/settings/global",
        "definition": {
          "entityName": "AppSetting",
          "schema": { "$ref": "#/backend/entities/AppSetting" },
          "description": "Configuración global del sistema."
        }
      }
    ]
  }
}
